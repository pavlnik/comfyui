<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ComfyUI : Upscale</title>
    <link rel="shortcut icon" href="data:image/x-icon;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAADXUlEQVRogcWazWucRRzHP7sNYodCUtNDsNAiKBo8qSA9tNXGthEFi4G9eCk44NBzDyI9pP9BeyiFOUwLPYkHUyiYppRSmhxiRE+xrXjwLdSL+FLNgJrsenh2zbNPnmefZ16ezQfCMvM8v+98fzvPzDwzm0an06EOpLLjwGlgEtgEeg01Cj4H8QTwN2CMFivpC406EpDKtoBrwJPRxWHGaDHXKzRjq0tlZ4FPqMc8wMV0IWoCUtkp4HxMzRzG04XYPfBhZL1SoiUglZ0ATsTSG8ByuhCzB45TbUYJZT5diJnAWxG1BrGQLsRM4LWIWkXcN1qspiuiJCCVfRV4OoZWCQvZihGXaKnsGMmq2O5W/Wu0+AM4G2ytGvPZikorsVT2HHCG5Ftus5VAB9jV/aubv4AJo8V6unJgD0hl9wErwDOp6mEZznIjax7Kx8AS/eZ3ijZwLu9CYQLdx+b5uhw5csxo8V3ehUE90KrJjAvXgQNGi3tFN+QOYqnsC8CDgIZ/At4D1gGRc73D1v6gk6lvdD+/NVr8WtZQ0SCermw1n0tGi6VAjUoUPUKhrwXbFpy62PYISWWfAn4mWbB8eGi0mAw1VpW8Hngdf/MwxG8f8hOYCtTcttzXSV4CIQP4T2AxIN6ZvgSksi8DzwboLRotbJglN7I98Gag3meB8c5kEwidPm8Fxjvz/zQqld0PrAVofWW0eCWKKwfSPXA0UOtmYLwX6QROBmoNdfrsESuBX8ic1wyLJoBU9ghhm/IvjRYbcSy50Xj/g/Vxkk35RwE6vwGngB+A0WwbFB94NUjeiB8ZLR75NDxCcqIWOv/vBQo3HVWQys4BLaPFpktcEzgMvBTSeCTeBS64BjWBDfp3RTvJO64BTeBj4NP4Xrxol9/ST9No8TnJ/nWu7OYh4LwNHQEwWvwDzEhl95AMyN5A+h14DrgLjMVwWMJt14CqR4t3gGM+jhw5aLT40SWg9HRaKjsKHPK2VJ1lV/NQ7Xh9Ctjt7scZr3epKgm84SPsQW0JhG7yq/C90eILn8CBCUhlXyT5V4G68d6KlvXAhK+wI5d9A8sS+MZX2AFptPjaN3hgAkaLNWDWV7yEx8C00eJKiEjVhawFvN0tDtq4FB2Z98q9n6ZWgatGi8fVrebzH9lPzH8zHY1VAAAAAElFTkSuQmCC" type="image/x-icon">
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <div id="alertBox" class="alert hidden"></div>

    <header class="header">
        <div class="header-container">
            <a href="../" class="logo">
                <img src="data:image/x-icon;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAADXUlEQVRogcWazWucRRzHP7sNYodCUtNDsNAiKBo8qSA9tNXGthEFi4G9eCk44NBzDyI9pP9BeyiFOUwLPYkHUyiYppRSmhxiRE+xrXjwLdSL+FLNgJrsenh2zbNPnmefZ16ezQfCMvM8v+98fzvPzDwzm0an06EOpLLjwGlgEtgEeg01Cj4H8QTwN2CMFivpC406EpDKtoBrwJPRxWHGaDHXKzRjq0tlZ4FPqMc8wMV0IWoCUtkp4HxMzRzG04XYPfBhZL1SoiUglZ0ATsTSG8ByuhCzB45TbUYJZT5diJnAWxG1BrGQLsRM4LWIWkXcN1qspiuiJCCVfRV4OoZWCQvZihGXaKnsGMmq2O5W/Wu0+AM4G2ytGvPZikorsVT2HHCG5Ftus5VAB9jV/aubv4AJo8V6unJgD0hl9wErwDOp6mEZznIjax7Kx8AS/eZ3ijZwLu9CYQLdx+b5uhw5csxo8V3ehUE90KrJjAvXgQNGi3tFN+QOYqnsC8CDgIZ/At4D1gGRc73D1v6gk6lvdD+/NVr8WtZQ0SCermw1n0tGi6VAjUoUPUKhrwXbFpy62PYISWWfAn4mWbB8eGi0mAw1VpW8Hngdf/MwxG8f8hOYCtTcttzXSV4CIQP4T2AxIN6ZvgSksi8DzwboLRotbJglN7I98Gag3meB8c5kEwidPm8Fxjvz/zQqld0PrAVofWW0eCWKKwfSPXA0UOtmYLwX6QROBmoNdfrsESuBX8ic1wyLJoBU9ghhm/IvjRYbcSy50Xj/g/Vxkk35RwE6vwGngB+A0WwbFB94NUjeiB8ZLR75NDxCcqIWOv/vBQo3HVWQys4BLaPFpktcEzgMvBTSeCTeBS64BjWBDfp3RTvJO64BTeBj4NP4Xrxol9/ST9No8TnJ/nWu7OYh4LwNHQEwWvwDzEhl95AMyN5A+h14DrgLjMVwWMJt14CqR4t3gGM+jhw5aLT40SWg9HRaKjsKHPK2VJ1lV/NQ7Xh9Ctjt7scZr3epKgm84SPsQW0JhG7yq/C90eILn8CBCUhlXyT5V4G68d6KlvXAhK+wI5d9A8sS+MZX2AFptPjaN3hgAkaLNWDWV7yEx8C00eJKiEjVhawFvN0tDtq4FB2Z98q9n6ZWgatGi8fVrebzH9lPzH8zHY1VAAAAAElFTkSuQmCC" alt="ComfyUI Logo">
                <span>ComfyUI</span>
            </a>
            <nav class="nav">
                <a href="../" class="nav-link">–ì–ª–∞–≤–Ω–∞—è</a>
                <a href="../generate/" class="nav-link">–ì–µ–Ω–µ—Ä–∞—Ü–∏—è</a>
                <a href="" class="nav-link-selected">–£–ª—É—á—à–µ–Ω–∏–µ</a>
            </nav>
        </div>
    </header>

    <main class="main">
        <div class="container">
            <div>
                <div class="card fade-in">
                    <h1>–£–ª—É—á—à–µ–Ω–∏–µ</h1>
                    <p>–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∞–ø—Å–∫–µ–π–ª–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —á–µ—Ä–µ–∑ ComfyUI API.<br>–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –≤–∞—à–µ–º—É —Å–µ—Ä–≤–µ—Ä—É –∏ —É–ª—É—á—à–∞–π—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.</p>

                    <div class="form-group">
                        <label for="apiUrl">–ê–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ ComfyUI</label>
                        <input type="text" id="apiUrl" placeholder="http://127.0.0.1:8188" value="http://127.0.0.1:8188">
                    </div>

                    <button id="btnConnect">–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É</button>

                    <div id="connectionStatus" class="status-text">–°—Ç–∞—Ç—É—Å: –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ</div>
                </div>

                <div id="modelSection" class="card hidden fade-in">
                    <h1>–í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏</h1>
                    
                    <div class="form-group">
                        <label for="modelSelect">–í—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥–µ–ª—å:</label>
                        <select id="modelSelect"></select>
                    </div>
                </div>

                <div id="paramsCard" class="card hidden fade-in">
                    <h1>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∞–ø—Å–∫–µ–π–ª–∞</h1>
                    
                    <div id="uploadSection">
                        <div class="upload-area" id="uploadArea">
                            <div class="upload-icon">üìÅ</div>
                            <p>–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—é–¥–∞ –∏–ª–∏ –∫–ª–∏–∫–Ω–∏—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞</p>
                            <input type="file" id="imageUpload" accept="image/*" style="display: none;">
                        </div>
                        <img id="imagePreview" class="image-preview">
                        
                        <!-- –î–æ–±–∞–≤–ª–µ–Ω–Ω–∞—è —Å–µ–∫—Ü–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ URL -->
                        <div class="url-upload-section">
                            <div class="form-group">
                                <label for="imageUrl">–ò–ª–∏ –≤–≤–µ–¥–∏—Ç–µ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:</label>
                                <div class="url-input-group">
                                    <input type="text" id="imageUrl" placeholder="https://example.com/image.jpg">
                                    <button id="btnLoadFromUrl">–ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <button id="btnUpscale">–£–ª—É—á—à–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</button>

                    <div id="progressSection" class="hidden">
                        <div class="status-text">–°—Ç–∞—Ç—É—Å: <span id="statusText">–û–∂–∏–¥–∞–Ω–∏–µ...</span></div>
                        <div id="progressBar">
                            <div id="progressBarFill"></div>
                        </div>
                        <button id="btnCancel" class="secondary">–û—Ç–º–µ–Ω–∏—Ç—å</button>
                    </div>
                </div>
            </div>

            <div>
                <div class="card fade-in">
                    <h1>–†–µ–∑—É–ª—å—Ç–∞—Ç</h1>
                    <div id="resultSection">
                        <p class="status-text">–£–ª—É—á—à–µ–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏.</p>
                        <img id="imageResult" class="hidden">
                    </div>
                </div>
                
                <div id="historySection" class="card hidden fade-in">
                    <div style="position: relative;">
                        <h1>–ò—Å—Ç–æ—Ä–∏—è –∞–ø—Å–∫–µ–π–ª–æ–≤</h1>
                        <button id="clearHistoryBtn" class="history-clear-btn" title="–û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é">&times;</button>
                    </div>
                    <div id="historyList" class="history-grid"></div>
                </div>
            </div>
        </div>

        <div id="paramsModal" class="modal">
            <div class="modal-content">
                <h1>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∞–ø—Å–∫–µ–π–ª–∞</h1>
                <button class="modal-close">&times;</button>
                <div id="modalParamsContent"></div>
            </div>
        </div>
    </main>

    <footer class="footer">
        <p>&copy; 2025 GKOZ</p>
        <p class="disclaimer">–≠—Ç–æ—Ç —Å–∞–π—Ç —è–≤–ª—è–µ—Ç—Å—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API ComfyUI –∏ –Ω–µ —Å–≤—è–∑–∞–Ω —Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–º–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏ ComfyUI.<br>–í—Å–µ –ø—Ä–∞–≤–∞ –Ω–∞ –∏—Å—Ö–æ–¥–Ω—É—é —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—é –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç –∏—Ö –ø—Ä–∞–≤–æ–æ–±–ª–∞–¥–∞—Ç–µ–ª—è–º.</p>
    </footer>

    <script src="script.js"></script>
    <script src="../script.js"></script>
</body>
</html>